<%- include('../partials/header') %>

<div class="admin-edit-post">
    <div class="edit-container">
        <h1>Edit Post</h1>
        
        <% if (locals.error) { %>
            <div class="alert alert-danger"><%= error %></div>
        <% } %>

        <form action="/admin/posts/<%= post.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" value="<%= post.title %>" required class="form-control">
            </div>

            <div class="form-group">
                <label for="content">Content</label>
                <textarea id="content" name="content" required class="form-control" rows="10"><%= post.content %></textarea>
            </div>

            <div class="form-group">
                <label for="excerpt">Excerpt</label>
                <textarea id="excerpt" name="excerpt" required class="form-control" rows="3"><%= post.excerpt %></textarea>
            </div>

            <div class="form-group">
                <label for="author">Author</label>
                <input type="text" id="author" name="author" value="<%= post.author %>" required class="form-control">
            </div>

            <div class="form-group">
                <label for="coverImage">Cover Image</label>
                <input type="file" id="coverImage" name="coverImage" class="form-control">
                <% if (post.coverImage) { %>
                    <img src="<%= post.coverImage %>" alt="Current cover image" class="current-image">
                <% } %>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Update Post</button>
                <a href="/admin/dashboard" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>

<%- include('../partials/footer') %> 